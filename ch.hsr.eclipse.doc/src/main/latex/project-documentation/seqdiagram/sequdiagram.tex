% Based on an example of the pst-uml manual:
% "Interface utilisateur du package pst-uml"

\documentclass[12pt,a4paper]{article}
\usepackage{fullpage}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{pst-uml}
\begin{document}

\begin{center}
\resizebox{\linewidth}{!}{%
\begin{psmatrix}[colsep=0.2,rowsep=0.5]
[name=client]\umlClass{\underline{:Activator}}{}
& [name=reseau]\umlClass{\underline{:TogglingActionDelegate}}{}
& [name=demande]\umlClass{\underline{:ToggleRefactoringRunner}}{}
& [name=route]\umlClass{\underline{:ToggleRefactoring}}{}
& [name=arete]\umlClass{\underline{:ToggleRefactoringRunner.RefactoringJob}}{}
& [name=noeud]\umlClass{\underline{:ToggleStrategyFactory}}{}
& [name=fenetre]\umlClass{\underline{:Fenetre}}{}
\\[+0.5cm] %1
% ATTENTION les lignes vides telle que :
%
& & & & & & \\
% sont inaccessible par (3,2)
%
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\ % 5
%
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\[-0.5cm]
{} & {} & {} & {} & {} & {} & {} \\[-0.5cm] % 10
%
{} & {} & {} & {} & {} & {} & {} \\[-0.5cm]
{} & {} & {} & {} & {} & {} & {} \\[-0.5cm]
{} & {} & {} & {} & {} & {} & {} \\[+0.5cm]
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\[+0.5cm] % 15
%
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\[-0.5cm]
{} & {} & {} & {} & {} & {} & {} \\
{} & {} & {} & {} & {} & {} & {} \\ % 20
%
{} & {} & {} & {} & {} & {} & {} \\[0cm]
%
% Les noms pour les fins d’objets (invariant si nouvelles lignes)
[name=clientEnd]{}
& [name=reseauEnd]{}
& [name=demandeEnd]{}
& [name=routeEnd]{}
& [name=areteEnd]{}
& [name=noeudEnd]{}
& [name=fenetreEnd]{}
& \\[-0.5cm] % Saut de ligne sans vertic pour corrigé problème
%
% Le trait d’axe pour l’échelle des temps :
\ncline[linewidth=0.5pt,linestyle=solid,offset=-1.7,nodesep=0.0]%
{->}{client}{clientEnd}
\naput[npos=1]{\emph{t}}
%
% Les pointillés verticaux
\ncline[linestyle=dashed]{client}{clientEnd}
\ncline[linestyle=dashed]{reseau}{reseauEnd}
\ncline[linestyle=dashed]{demande}{demandeEnd}
\ncline[linestyle=dashed]{route}{routeEnd}
\ncline[linestyle=dashed]{arete}{areteEnd}
\ncline[linestyle=dashed]{noeud}{noeudEnd}
\ncline[linestyle=dashed]{fenetre}{fenetreEnd}
%
% Les connexions horisontales ave leur commentaires associés
\small\ttfamily% Fonctionne
\psset{labelsep=1.5mm}
\ncline{->}{2,1}{2,3}\naput*{listerDemandes()}
\ncline{->}{3,3}{3,1}\nbput*{demandes}
\ncline{->}{4,1}{4,2}\naput*{* visualiser(demande)}
\ncline{->}{5,2}{5,1}\nbput*{[déjàRouté(réseau) = false]}
\ncline{->}{6,2}{6,1}\nbput*{[acceptée(demande) = false]}
\ncline{->}{7,2}{7,4}\naput*{[acceptée(demande) = true] parcourir()}
\ncline{->}{8,4}{8,5}\naput*{lister()}
\ncline{->}{9,5}{9,6}\naput*{listerExtrémités()}
\ncline{->}{10,6}{10,5}
\ncline{->}{11,5}{11,4}
\ncline{->}{12,4}{12,2}
\ncline{->}{13,2}{13,1}
\ncline{->}{14,1}{14,7}\naput*{[acceptée(demande) = true] %
afficher(demande)}
\ncline{->}{15,7}{15,1}\nbput*{dessinerSurTerminal()}
\ncline{->}{16,1}{16,7}\naput*{* zoomer(zone)}
\ncline{->}{17,7}{17,5}\nbput*{arêtesInZone}
\ncline{->}{18,5}{18,3}\nbput*{estConcernée(demande)}
\ncline{->}{19,3}{19,5}
\ncline{->}{20,5}{20,7}\naput*{arêtesConcernées}
\ncline{->}{21,7}{21,1}\nbput*{rafraichirEcran()}
% \ncEVW[armA=2]{->}{4,3}{10,3} % Est Vertical West
%
\end{psmatrix}%
}%
\end{center}


\end{document}

